## 模拟器支持

### ✅ 蓝叠模拟器

完美支持。需要在模拟器 `设置` - `引擎设置` 中打开 `允许ADB连接`

### ✅ 蓝叠模拟器国际版（推荐使用 👍 ）

完美支持。需要在模拟器 `设定` - `进阶` 中打开 `Android调试桥`

### ✅ 蓝叠模拟器国际版 Hyper-V 版本

支持

- 在模拟器 `设定` - `进阶` 中打开 `Android调试桥`
- 由于蓝叠 Hyper-V 的端口号在不断变动，所以留了个专用的小后门：

  1. 在蓝叠模拟器的数据目录下找到 `bluestacks.conf` 这个文件（默认路径为 `C:\ProgramData\BlueStacks_nxt\bluestacks.conf`）
  2. 如果是第一次使用，请开启一次 MAA，会在同目录下生成 `gui.json`
  3. **先关闭** MAA，**然后** 打开 `gui.json`，新增一个字段 `Bluestacks.Config.Path`，填入 `bluestacks.conf` 的完整路径（注意斜杠要用转义 `\\`）  
  示例：（以 `C:\ProgramData\BlueStacks_nxt\bluestacks.conf` 为例）

    ```jsonc
    "Bluestacks.Config.  Path":"C:\\ProgramData\\BlueStacks_nxt\\bluestacks.  conf",
    ```

  4. 开启 MAA, LinkStart!
- 如果你还需要多开（不使用多开请忽略这步），可以再修改 MAA 检测配置文件的关键字。
    参照上述步骤，添加 `Bluestacks.Config.Keyword` 字段
    示例：
    ```jsonc
    "Bluestacks.Config.Keyword":"bst.instance.Nougat64.  status.adb_port",
    ```

### ✅ 夜神模拟器

完美支持

### ✅ 夜神模拟器 安卓 9

完美支持

### ⚠️ MuMu 模拟器

支持。但

- 需要使用管理员权限打开 MAA 才能自动获取 adb 路径和地址（因为 MuMu 本身是管理员启动的）
- 如果不希望管理员启动，可以在 MAA 设置中自行填写 adb 路径和地址
- 可能会卡在主界面无法识别，过一会提示任务出错：和 MuMu 的渲染方式有关，暂时不知道根本原因，推荐换模拟器（

### 🚫 MuMu 手游助手（星云引擎）  

不支持。没开放 adb 端口

### 🚫 MuMu 模拟器 安卓 9

不支持。adb 截图出来是黑的，无法解决

### 🚫 雷电模拟器

勉强支持，但非常不推荐使用。雷电存在小概率画面颠倒及黑屏的问题，会造成各种奇怪的问题。  
例如准备点击左上角返回键的一瞬间画面颠倒 180°，导致点到了右下角的碎石确认按钮，造成误碎石（这个情况有用户真实遇到过）

### ⚠️ 逍遥模拟器

支持。但可能有莫名其妙的识别错误问题

### 🚫 腾讯手游助手

不支持。没开放 adb 端口

### ⚠️ Win11 WSA

勉强支持。

- 需要使用 [自定义连接](#自定义连接) 的方式来连接.
- WSA 2204 或更高版本（版本号在子系统设置的 `关于` 页面中），连接配置选择 `通用配置`
- WSA 2203 或更老版本（版本号在子系统设置页面的上方），连接配置选择 `WSA 旧版本`
- 由于本软件仅对 720p 以上 `16:9` 分辨率支持较好，所以请手动拖动窗口大小，尽量贴近 16:9 比例（如果你的显示器是 16:9 的，可以直接按 `F11` 全屏）
- 辅助运行过程中请尽量保证明日方舟在前台且无其他安卓应用同时在前台运行，否则可能导致游戏暂停运行或辅助识别错误。
- WSA 的截图经常莫名其妙截出来一个白屏，导致识别异常，还是不推荐使用。

### ✅ AVD

支持。

### ⚙️ 自定义连接

1. 下载 [adb](https://dl.google.com/android/repository/platform-tools-latest-windows.zip) 并解压
2. 进入软件 `设置` - `连接设置`，填写 adb 路径及地址（需要填写 IP + 端口，例如 `127.0.0.1:5555` ）
**关于手机、平板等地址的填写：**IP地址可以通过 `设置->WLAN->查看`找到对应的IPv4地址（移动网络似乎找不到）；adb的端口一般默认为5555

**提示 :** 若是设备分辨率非 `16:9` （手机、平板等），是可以通过 `adb shell wm size` 的方式来硬改分辨率的，使用完再改回来。等有空出一篇详细一点的文档，有兴趣的朋友们可先自行尝试一下~


**使用手机登录游戏并调整分辨率，使用MAA：**

1. 手机打开USB调试，数据线连接电脑主机
2. 在软件设置中填写好adb路径以及手机地址（IP+端口）
3. 运行 `命令行窗口（CMD）`，执行使用相关的指令

   ```bash
   adb devices -l  # 查看当前已连接设备情况，其中第一列为设备号id
   adb -s 设备id shell  # 选择进入该设备进行操作
   ```
4. 在游戏内部的设置界面将 `异形屏适配`一项调整到0；如果不设置该项，之后使用adb调整分辨率可能会出现手机界面UI和按键响应的位置错开（？）的情况
5. 进入设备的命令行进行操作

   ```bash
   atom:/ $ wm size  # 查看当前设备的分辨率
   atom:/ $ wm size 720x1280  # 调整分辨率到720p
   ```
6. 使用MAA  (≧∇≦)ﾉ
7. 任务结束，退出MAA之前，恢复手机原本的分辨率

   ```bash
   atom:/ $ wm size reset  # 恢复原本的分辨率
   ```
