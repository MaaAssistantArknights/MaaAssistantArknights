---
order: 8
# icon: iconoir:developer
---

# Maa / MaaFramework 专用 VSCode 插件教程

* [插件商店](https://marketplace.visualstudio.com/items?itemName=nekosu.maa-support)
* [仓库](https://github.com/neko-para/maa-support-extension)

## 安装

推荐直接在 VSCode 的插件列表中搜索 `Maa` 来安装.

## 功能

### 控制面板

左侧添加了专用控制面板, 图标: <svg width="24" height="24" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
  <text x="16" y="31" font-size="12" text-anchor="middle" font-family="monospace">maa</text>
  <path transform="translate(4, 0)" fill-rule="evenodd" clip-rule="evenodd" d="M19.85 8.75l4.15.83v4.84l-4.15.83 2.35 3.52-3.43 3.43-3.52-2.35-.83 4.15H9.58l-.83-4.15-3.52 2.35-3.43-3.43 2.35-3.52L0 14.42V9.58l4.15-.83L1.8 5.23 5.23 1.8l3.52 2.35L9.58 0h4.84l.83 4.15 3.52-2.35 3.43 3.43-2.35 3.52zm-1.57 5.07l4-.81v-2l-4-.81-.54-1.3 2.29-3.43-1.43-1.43-3.43 2.29-1.3-.54-.81-4h-2l-.81 4-1.3.54-3.43-2.29-1.43 1.43L6.38 8.9l-.54 1.3-4 .81v2l4 .81.54 1.3-2.29 3.43 1.43 1.43 3.43-2.29 1.3.54.81 4h2l.81-4 1.3-.54 3.43 2.29 1.43-1.43-2.29-3.43.54-1.3zm-8.186-4.672A3.43 3.43 0 0 1 12 8.57 3.44 3.44 0 0 1 15.43 12a3.43 3.43 0 1 1-5.336-2.852zm.956 4.274c.281.188.612.288.95.288A1.7 1.7 0 0 0 13.71 12a1.71 1.71 0 1 0-2.66 1.422z"/>
</svg>

插件的绝大部分功能均基于 `interface.json` 配置. 在控制面板最顶部可以选择生效的 `interface.json`.

插件有 `Maa` 兼容模式. 当在打开文件夹下检测到存在 `src/MaaCore` 文件夹时, 会自动启用.

### 语义化资源分析

通过切换控制面板中的 `资源` 下拉框, 选择正确的资源. 插件会根据对应路径来进行索引和诊断.

如果发现想要编辑的 json 文件没有插件提示, 请检查是否激活的资源并没有包含该文件.

> 所谓 `任务的定义`, 指任务对象的键
>
> 所谓 `任务的引用`, 指其它任务可以填入任务名称的值(例如 `next`)

#### 查询任务定义/引用

基于 VSCode 跳转到定义/查询引用/查询所有引用/悬停预览 功能.

插件支持 跳转到定义, 跳转到引用, 查看任务定义 的能力.

开启 `Maa` 兼容模式时, 可以解析 `模板任务`, 支持联动基类查询定义和引用; 悬停任务定义, 可以查看同名图片.

#### 查询/打开图片

基于 VSCode 文档链接/悬停预览 功能.

插件支持 打开图片 的能力.

开启 `Maa` 兼容模式时, 允许图片路径进行递归搜索.

#### 补全任务

基于 VSCode 自动补全 功能.

插件支持在任务的引用中, 根据所有已知任务进行补全.

开启 `Maa` 兼容模式时, 输入 `@` 将会触发新一轮补全.

#### 补全图像路径

基于 VSCode 自动补全 功能.

插件支持在图片的引用中, 根据所有已知图片路径进行补全.

开启 `Maa` 兼容模式时, 允许图片路径进行递归搜索.

#### 校验任务/图像路径

插件支持定时扫描并分析所有任务.

* 检查是否有重名任务定义
* 检查是否有未知任务引用
* 检查是否有未知图片引用
* 检查单个任务中是否有重复的任务引用

#### 多路径资源支持

插件支持资源包含多个路径, 会按照指定顺序进行逻辑覆盖, 即后加载的可以引用到前加载的内容.

### MaaPiCli 功能 (仅 MaaFramework 项目)

通过控制面板, 可以扫描并选择控制器, 选择资源, 添加并管理任务, 以及执行任务.

### 截图裁剪功能

在 VSCode 的命令中搜索 `Maa: 打开截图工具`, 可打开 `截图/裁剪` 面板.

* 选择并连接控制器后, 可使用 `截图` 按钮直接获取截图
* 可使用 `上传` 按钮手动上传
* 按住 Ctrl 键, 框选需要裁剪的区域
* 使用滚轮可进行缩放
* 裁剪完成后, 使用 `下载` 按钮, 可自动将裁剪结果保存到激活资源的最顶层的图片目录

### 底部状态栏

#### MaaSupport \[插件版本\]

点击可打开控制面板

#### MaaFramework \[MaaFw版本\]

点击可切换插件使用的 `MaaFramework` 版本

> 首次使用时, 会自动下载插件预设版本.
>
> 搜索命令 `Maa: 选择下载源`, 可切换下载源(npm/cnpm)

---

之后大概会补点图?
