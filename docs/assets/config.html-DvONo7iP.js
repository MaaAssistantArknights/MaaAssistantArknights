import{_ as e,c as k,b as n,a,e as i,d as h,w as l,r as p,o as d}from"./app-DbvXOh0a.js";const r={};function E(o,s){const t=p("RouteLink");return d(),k("div",null,[s[19]||(s[19]=n(`<h1 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration"><span>Configuration</span></a></h1><h2 id="configuration-directory" tabindex="-1"><a class="header-anchor" href="#configuration-directory"><span>Configuration Directory</span></a></h2><p>The maa-cli configuration files are located in a specific configuration directory, which you can get by running <code>maa dir config</code>. The configuration directory can also be changed by the environment variable <code>MAA_CONFIG_DIR</code>. In the following examples, we will use <code>$MAA_CONFIG_DIR</code> to represent the configuration directory.</p><p>All configuration files can be in TOML, YAML, or JSON format. In the following examples, we will use the TOML format and use <code>.toml</code> as the file extension. But you can mix these three formats, as long as your file extension is correct.</p><p>In addition, some tasks accept <code>filename</code> as a parameter. When the relative path is used, the relative path will be relative to the corresponding subdirectory of the configuration directory. For example, the custom infrastructure plan files should be relative to <code>$MAA_CONFIG_DIR/infrast</code>, while the copilot files of Stationary Security Service should be relative to <code>$MAA_CONFIG_DIR/ssscopilot</code>.</p><h2 id="custom-tasks" tabindex="-1"><a class="header-anchor" href="#custom-tasks"><span>Custom Tasks</span></a></h2><p>A custom task is a separate file located in the <code>$MAA_CONFIG_DIR/tasks</code> directory.</p><h3 id="basic-structure" tabindex="-1"><a class="header-anchor" href="#basic-structure"><span>Basic Structure</span></a></h3><p>A task file contains multiple subtasks, each of which is an MAA task, which contains the following options:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">name</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Start the game</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # The name of the task, optional, defaults to the task type</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">StartUp</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # The type of the task</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> client_type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Official</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start_game_enabled</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # The parameters of the task</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10)),a("p",null,[s[1]||(s[1]=i("The specific task types and parameters can be found in the ")),h(t,{to:"/en-us/protocol/integration.html#list-of-task-types"},{default:l(()=>s[0]||(s[0]=[i("MAA Integration Document")])),_:1,__:[0]}),s[2]||(s[2]=i(". Note that maa-cli does not validate parameter names and values, and no error message will be generated even if an error occurs unless MaaCore` detects an error at runtime."))]),s[20]||(s[20]=n(`<h3 id="task-variants-and-conditions" tabindex="-1"><a class="header-anchor" href="#task-variants-and-conditions"><span>Task variants and conditions</span></a></h3><p>In some cases, you may want to run a task with different parameters in different conditions. You can define multiple variants for a task, and use the <code>condition</code> field to determine whether the variant should be used. For example, you may want to use a different infrastructure plan at different periods of the day:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Infrast</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">mode</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 10000</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">facility</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Trade</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Reception</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Mfg</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Control</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Power</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Office</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Dorm</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">dorm_trust_enabled</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">filename</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">normal.json</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the filename of custom infrast plan</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># use plan 0 from 18:00:00 to 04:00:00 of next day, use plan 1 before 12:00:00, use plan 2 after 12:00:00</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">18:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">04:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # when end time is less than start time, end time will be treated as time of next day</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">12:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # if start time is omitted, this condition will be matched if current time is less than end time</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">12:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # if end time is omitted, this condition will be matched if current time is greater than start time</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>condition</code> field is used to determine whether the variant should be used,<br> and the <code>params</code> field of the matched variant will be merged into the parameters of the task.</p><p><strong>Note</strong>: If the <code>filename</code> field is a relative path, it will be relative to <code>$MAA_CONFIG_DIR/infrast</code>. Besides, the custom infrastructure plan file will not be read by <code>maa-cli</code> but MaaCore. So the format of the file must be <code>JSON</code> and the time period defined in the file will not be used to select the corresponding sub-plan. So you must specify the <code>plan_index</code> field in the parameters of the task to use the correct infrastructure plan in the corresponding time period. This will ensure that the correct infrastructure plan is used in the appropriate time period.</p><p>Besides of <code>Time</code> condition, there are also <code>DateTime</code>, <code>Weekday</code>, <code>DayMod</code> conditions.<br><code>DateTime</code> condition is used to specify a specific date-time period,<br><code>Weekday</code> condition is used to specify some days in a week,<br><code>DayMod</code> condition is similar to <code>Weekday</code>, but the period can be specified by <code>divisor</code> and <code>remainder</code>.</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Fight</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># fight SL-8 on summer event</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">SL-8</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DateTime</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">2023-08-01T16:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">2023-08-21T03:59:59</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># fight CE-6 on Tue, Thu, Sat if not on summer event</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Weekday</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> weekdays</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Tue</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Thu</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Sat</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">],</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> timezone</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Official</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">CE-6</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># fight 1-7 otherwise</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">1-7</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>All the above conditions related to time have a <code>timezone</code> field, which is used to specify the timezone of the condition. The value of <code>timezone</code> can be an offset of UTC, like <code>8</code> or <code>-7</code>, or a name of the client type of game, like <code>Official</code>. Note, even though the official server is in China, the timezone of the official server is <code>UTC+4</code> instead of <code>UTC+8</code>, because the start of the game day is <code>04:00:00</code> instead of <code>00:00:00</code>. When the <code>timezone</code> is omitted, the condition will be matched in the local timezone of the system.<br> Besides of above conditions, there is a condition <code>OnSideStory</code> which depends on hot update resource to check if there is any opening side story. Thus, the condition of fight <code>SL-8</code> can be simplified as <code>{ type = &quot;OnSideStory&quot;, client = &quot;Official&quot; }</code>, where the <code>client</code> is the client type of game.</p><p>Beside of above basic condition, <code>{ type = &quot;And&quot;, conditions = [...] }</code> <code>{ type = &quot;Or&quot;, conditions = [...] }</code>, and <code>{ type = &quot;Not&quot;, condition = ... }</code> can be used for logical combination of conditions.</p><p>By the combination of of above conditions, you can define an infrastructure plan for multiple days,<br> here is an example of 6 plans for 2 days:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">name</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Infrast (6 plan for 2 days)</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Infrast</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">mode</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 10000</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">facility</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Trade</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Reception</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Mfg</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Control</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Power</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Office</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Dorm</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">dorm_trust_enabled</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">filename</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">normal.json</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># First shift, 04:00:00 - 12:00:00 on the first day</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">    type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">    conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">        # The divisor use to specify the period, the remainder use to specify the offset</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">        # The offset is equal to num_days_since_ce % divisor</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">        # The num_days_since_ce is the number of days since the Common Era, 0001-01-01 is the first day</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">        # The offset of current day can be got by \`maa remainder &lt;divisor&gt;\`</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">        # for 2024-01-27, num_days_since_ce is 738,912,</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">        # the offset of 2024-01-27 is 738,912 % 2 = 0</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">        # so this condition will be matched on 2024-01-27</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">        {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DayMod</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> divisor</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> remainder</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">        {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">04:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">12:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># The second shift, 12:00:00 - 20:00:00 on the first day</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DayMod</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> divisor</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> remainder</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">12:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">20:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">   ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># The third shift, 20:00:00 (first day) - 04:00:00 (second day)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># Note, we must use Or condition here, otherwise the second day 00:00:00 - 04:00:00 will not be matched</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Or</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">         {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DayMod</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> divisor</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> remainder</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">         {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">20:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      ]</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">         {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DayMod</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> divisor</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> remainder</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">         {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">04:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      ]</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">   ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># The fourth shift, 04:00:00 - 12:00:00 on the second day</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DayMod</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> divisor</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> remainder</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">04:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">12:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">   ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 3</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># The fifth shift, 12:00:00 - 20:00:00 on the second day</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DayMod</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> divisor</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> remainder</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">12:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">20:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">   ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 4</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># The sixth shift, 20:00:00 (second day) - 04:00:00 (new first day)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Or</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">   conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">         {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DayMod</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> divisor</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> remainder</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">         {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">20:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      ]</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">         {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DayMod</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> divisor</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> remainder</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">         {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">04:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">      ]</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">   ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> plan_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 5</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>With the default strategy, if multiple variants are matched, only the first one will be used. If the condition is not given, the variant will always be matched. So you can put a variant without condition at the end of variants.</p><p>The strategy of matching variants can be changed by <code>strategy</code> field:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Fight</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">strategy</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">merge</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # or &quot;first&quot; (default)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># use all expiring medicine on Sunday night</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> expiring_medicine</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1000</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants.condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">And</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">  {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">18:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">  {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Weekday</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> weekdays</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Sun</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> },</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># fight 1-7 by default</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">1-7</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># fight CE-6 on Tue, Thu, Sat if not on summer event</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Weekday</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> weekdays</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Tue</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Thu</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Sat</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">CE-6</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># fight SL-8 on summer event</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">SL-8</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DateTime</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">2023-08-01T16:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">2023-08-21T03:59:59</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The outcome stage of this example should be identical to the previous one, but expiring medicine will be used on Sunday night additionally.<br> With the <code>merge</code> strategy, if multiple variants are matched, the parameters of all matched variants will be merged. If multiple variants have the same parameters, the last one will be used.</p><p>If no variant is matched, the task will not be executed,<br> which is useful when you want to only run a task in some conditions:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># Mall after 18:00</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Mall</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Time</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">18:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="user-input" tabindex="-1"><a class="header-anchor" href="#user-input"><span>User input</span></a></h3><p>In some cases, you may want to input some value at runtime, instead of hard code it in the task file. Such as the stage to fight, the item to buy, etc. You can specify the value as <code>Input</code> or <code>Select</code> type:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Fight</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># Select a stage to fight</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">DateTime</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> start</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">2023-08-01T16:00:00</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> end</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">2023-08-21T03:59:59</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># Set the stage to a \`Select\` type with alternatives and description</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants.params.stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># the alternatives of stage, at least one alternative should be given</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># the element of alternatives can be a single value or a table with \`value\` and \`desc\` fields·</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">alternatives</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">    &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">SL-7</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # will be displayed as &quot;1. SL-7&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> value</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">SL-8</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> desc</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Manganese Ore</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # will be displayed as &quot;2. SL-8 (Manganese Ore)&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">default_index</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the index of default value, start from 1, if not given, empty value will be re-prompt</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">description</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">a stage to fight in summer event</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # description of the input, optional</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">allow_custom</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether allow input custom value, default to false, if allow, non-integer value will be treated as custom value</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># Task without input</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">condition</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Weekday</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> weekdays</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Tue</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Thu</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Sat</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">params</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">CE-6</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># Input a stage to fight</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># Set the stage to a \`Input\` type with default value and description</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants.params.stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">default</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">1-7</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # default value of stage, optional (if not given, user can input empty value to re-prompt)</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">description</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">a stage to fight</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # description of the input, optional</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># query the medicine to use only when stage is 1-7</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">tasks.variants.params.medicine</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># a parameter can be optional with \`optional\` field</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># if the condition is not matched, the parameter will be ignored</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># the \`condition\` field can be used to specify the condition of the parameter</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># where the condition can be a table, whose keys are name of other parameters and values are the expected value</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">conditions</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> stage</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">1-7</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">default</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">description</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">medicine to use</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For an <code>Input</code> type, a prompt will be shown to ask the user to input a value. If the default value is given, it will be used if the user inputs an empty value, otherwise, it will re-prompt.<br> For <code>Select</code> type, a prompt will be shown to ask the user to input an index or custom value (if <code>allow_custom</code> is <code>true</code>). If the default index is given, it will be used if the user inputs an empty value, otherwise, it will re-prompt.</p><p><code>--batch</code> option can be used to run tasks in batch mode, which will use the default value for all inputs and panic if no default value is given.</p><h2 id="maacore-related-configurations" tabindex="-1"><a class="header-anchor" href="#maacore-related-configurations"><span>MaaCore related configurations</span></a></h2><p>The related configuration files of MaaCore is called &quot;Profile&quot; and located in <code>$MAA_CONFIG_DIR/profiles</code> directory. Each files in this directory is a profile, while the default profile is <code>default.toml</code>. If you want to use a profile other than the default one, you can specify it by <code>-p</code> or <code>--profile</code> option.</p><p>The currently available configurations are:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">connection</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">preset</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">MuMuPro</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">adb_path</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">adb</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">device</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">emulator-5554</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">config</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">CompatMac</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">global_resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">YoStarEN</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">platform_diff_resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">iOS</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">user_resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">static_options</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">cpu_ocr</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">gpu_ocr</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">instance_options</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">touch_mode</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">MaaTouch</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">deployment_with_pause</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">adb_lite_enabled</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">kill_adb_on_exit</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="connection" tabindex="-1"><a class="header-anchor" href="#connection"><span>Connection</span></a></h3><p>The <code>connection</code> section is used to specify how to connect to the game:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">connection</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">adb_path</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">adb</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the path of adb executable, default to &quot;adb&quot;, which means use adb in PATH</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">address</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">emulator-5554</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the address of device, such as &quot;emulator-5554&quot; or &quot;127.0.0.1:5555&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">config</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">General</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the config of maa, should not be changed most of time</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,29)),a("p",null,[s[4]||(s[4]=n("<code>adb_path</code> is the path of <code>adb</code> executable, you can set it to the absolute path of <code>adb</code> or or leave it empty if it is in PATH. The <code>address</code> is the address of the device used by <code>adb</code>, like <code>emulator-5554</code> or <code>127.0.0.1:[port]</code>, the port of some common emulators can be found in the ",14)),h(t,{to:"/en-us/manual/connection.html#obtain-port-number"},{default:l(()=>s[3]||(s[3]=[i("MAA FAQ")])),_:1,__:[3]}),s[5]||(s[5]=n(". If the <code>address</code> is absent, the cli will try to find the device automatically by <code>adb devices</code>, if there are multiple online devices, the first one will be used. If cli can not find any device, it will try to use the default address <code>emulator-5554</code>. The <code>config</code> is used to specify some configurations of the host and emulator, whose default value is <code>CompatMac</code> on macOS, <code>CompatPOSIXShell</code> on Linux and <code>General</code> on other platforms. More optional configs can be found in <code>config.json</code> in the resource directory.",17))]),s[21]||(s[21]=n(`<p>For some common emulators, you can use <code>preset</code> to use predefined configurations:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">connection</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">preset</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">MuMuPro</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">adb_path</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">/path/to/other/adb</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # override predefined adb executable path</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">address</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">127.0.0.1:7777</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # override the predefined address</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Currently, there is only one preset <code>MuMuPro</code> for emulators. Issue and PR are welcome for the new preset.</p>`,3)),a("p",null,[s[7]||(s[7]=i("There is a special preset ")),s[8]||(s[8]=a("code",null,"PlayCover",-1)),s[9]||(s[9]=i(", used for the iOS app running on macOS by PlayCover. In this case, ")),s[10]||(s[10]=a("code",null,"adb_path",-1)),s[11]||(s[11]=i(" is ignored and ")),s[12]||(s[12]=a("code",null,"address",-1)),s[13]||(s[13]=i(" is used to specify the address of ")),s[14]||(s[14]=a("code",null,"MaaTools",-1)),s[15]||(s[15]=i(" set in ")),s[16]||(s[16]=a("code",null,"PlayCover",-1)),s[17]||(s[17]=i(", more details can be found in the ")),h(t,{to:"/en-us/manual/device/macos.html#%E2%9C%85-playcover-the-software-runs-most-fluently-for-its-nativity-%F0%9F%9A%80"},{default:l(()=>s[6]||(s[6]=[i("PlayCover documentation")])),_:1,__:[6]}),s[18]||(s[18]=i("."))]),s[22]||(s[22]=n(`<h3 id="resource" tabindex="-1"><a class="header-anchor" href="#resource"><span>Resource</span></a></h3><p>The <code>resource</code> section is used to specify the resource to use:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">global_resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">YoStarEN</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the global resource to use</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">platform_diff_resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">iOS</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the platform diff resource to use</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">user_resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether use user resource</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When your game is not in Simplified Chinese, you should set <code>global_resource</code> to non-Chinese resource. If you connect to the game with <code>PlayCover</code>, you should set <code>platform_diff_resource</code> to <code>iOS</code>.<br> Leave those two fields empty if you don&#39;t want to use global resource or platform diff resource. Besides, those two fields will also be set up automatically by maa-cli based on your task and connection type.<br> Lastly, if you want to use user resources, you should set <code>user_resource</code> to <code>true</code>. When <code>user_resource</code> is <code>true</code>, maa-cli will try to find user resources in <code>$MAA_CONFIG_DIR/resource</code> directory.</p><h3 id="static-options" tabindex="-1"><a class="header-anchor" href="#static-options"><span>Static options</span></a></h3><p>The <code>static_options</code> section is used to configure MAA static options:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">static_options</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">cpu_ocr</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether use CPU OCR, CPU OCR is enabled by default</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">gpu_ocr</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the ID of your GPU, leave it to empty if you don&#39;t want to use GPU OCR</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="instance-options" tabindex="-1"><a class="header-anchor" href="#instance-options"><span>Instance options</span></a></h3><p>The <code>instance_options</code> section is used to configure MAA instance options:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">instance_options</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">touch_mode</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">ADB</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # touch mode to use, can be &quot;ADB&quot;, &quot;MiniTouch&quot;, &quot;MaaTouch&quot; or &quot;MacPlayTools&quot; (only for PlayCover)</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">deployment_with_pause</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether pause the game when deployment</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">adb_lite_enabled</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether use adb-lite</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">kill_adb_on_exit</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether kill adb when exit</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note: If you connect to the game with <code>PlayCover</code>, the <code>touch_mode</code> will be ignored and <code>MacPlayTools</code> will be used.</p><h2 id="cli-related-configurations" tabindex="-1"><a class="header-anchor" href="#cli-related-configurations"><span>CLI related configurations</span></a></h2><p>The CLI related configurations should be located in <code>$MAA_CONFIG_DIR/cli.toml</code>. Currently, it only contains one section: <code>core</code>:</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-toml"><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># MaaCore install and update  configurations</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">core</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">channel</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Stable</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # update channel, can be &quot;Stable&quot;, &quot;Beta&quot; or &quot;Alpha&quot;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">test_time</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the time to test download mirrors in seconds, 0 to skip</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># the url to query the latest version of MaaCore, leave it to empty to use default url</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">apit_url</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">https://github.com/MaaAssistantArknights/maa-cli/raw/version/</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">core.components</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">library</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether install MaaCore library</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> false</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether install resource resource</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># CLI update configurations</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">cli</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">channel</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Stable</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # update channel, can be &quot;Stable&quot;, &quot;Beta&quot; or &quot;Alpha&quot;</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># the url to query the latest version of maa-cli, leave it to empty to use default url</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">api_url</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">https://github.com/MaaAssistantArknights/maa-cli/raw/version/</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># the url to download prebuilt binary, leave it to empty to use default url</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">download_url</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">https://github.com/MaaAssistantArknights/maa-cli/releases/download/</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">cli.components</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">binary</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether install maa-cli binary</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># hot update resource configurations</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">resource</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">auto_update</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # whether auto update resource before running task</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">warn_on_update_failure</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> true</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # Whether to warn on update failure instead of panic</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">backend</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">libgit2</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # the backend of resource, can be &quot;libgit2&quot; or &quot;git&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># the remote of resource</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">resource.remote</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">branch</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">main</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # Branch of remote resource repository</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># URL of remote resource repository, leave it empty to use the default URL</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">url</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">git@github.com:MaaAssistantArknights/MaaResource.git</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># If you want to use ssh, a certificate is needed which can be &quot;ssh-agent&quot; or &quot;ssh-key&quot;</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># To use ssh-agent, set \`use_ssh_agent\` to true, and leave \`ssh_key\` and \`passphrase\` empty</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># use_ssh_agent = true # Use ssh-agent to authenticate</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># To use ssh-key, set \`ssh_key\` to path of ssh key,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">ssh_key</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">~/.ssh/id_ed25519</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # Path of ssh key</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># A Passphrase is needed if the ssh key is encrypted</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">passphrase</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">password</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#008000;--shiki-dark:#616E88;"> # Passphrase of ssh key</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># Store plain text password in configuration file is unsafe, so there are some ways to avoid it</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># 1. set \`passphrase\` to true, then maa-cli will prompt you to input passphrase each time</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># passphrase = true</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># 2. set \`passphrase\` to a environment variable, then maa-cli will use the environment variable as passphrase</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># passphrase = { env = &quot;MAA_SSH_PASSPHRASE&quot; }</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># 3. set \`passphrase\` to a command, then maa-cli will execute the command to get passphrase</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># which is useful when you use a password manager to manage your passphrase</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;"># passphrase = { cmd = [&quot;pass&quot;, &quot;show&quot;, &quot;ssh/id_ed25519&quot;] }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>NOTE</strong>:</p><ul><li>The <code>Alpha</code> channel of MaaCore is only available on Windows;</li><li>The hot update resource can not work separately, it should be used with basic resources installed with MaaCore;</li><li>If you want to use <code>git</code> backend, <code>git</code> command is required;</li><li>If you want to fetch resources with ssh, the <code>ssh_key</code> is required;</li><li>The <code>resource.remote.url</code> only affects first-time installation, it will be ignored when updating resource. If you want to change the remote URL, you should change it manually or delete the resource directory and reinstall the resources. The directory of the repository can be located by <code>maa dir hot-update</code>.</li></ul><h2 id="example-of-config-file" tabindex="-1"><a class="header-anchor" href="#example-of-config-file"><span>Example of config file</span></a></h2><ul><li><a href="https://github.com/MaaAssistantArknights/maa-cli/blob/main/crates/maa-cli/config_examples" target="_blank" rel="noopener noreferrer">Example configuration</a>;</li><li><a href="https://github.com/wangl-cc/dotfiles/tree/master/.config/maa" target="_blank" rel="noopener noreferrer">Configuration used by maintainer</a>.</li></ul><h2 id="json-schema" tabindex="-1"><a class="header-anchor" href="#json-schema"><span>JSON schema</span></a></h2><p>The JSON schema of configuration files can be found at <a href="https://github.com/MaaAssistantArknights/maa-cli/blob/main/crates/maa-cli/schemas/" target="_blank" rel="noopener noreferrer"><code>schemas</code> directory</a>:</p><ul><li>The schema of the task configuration is <a href="https://github.com/MaaAssistantArknights/maa-cli/blob/main/crates/maa-cli/schemas/task.schema.json" target="_blank" rel="noopener noreferrer"><code>task.schema.json</code></a>;</li><li>the schema of the MaaCore configuration file is <a href="https://github.com/MaaAssistantArknights/maa-cli/blob/main/crates/maa-cli/schemas/asst.schema.json" target="_blank" rel="noopener noreferrer"><code>asst.schema.json</code></a>;</li><li>the schema of the CLI configuration file is <a href="https://github.com/MaaAssistantArknights/maa-cli/blob/main/crates/maa-cli/schemas/cli.schema.json" target="_blank" rel="noopener noreferrer"><code>cli.schema.json</code></a>.</li></ul><p>With the help of JSON schema, you can get auto-completion and validation in some editors with plugins.</p>`,22))])}const g=e(r,[["render",E]]),y=JSON.parse('{"path":"/en-us/manual/cli/config.html","title":"Configuration","lang":"en-us","frontmatter":{"order":3,"icon":"material-symbols:settings","description":"Configuration Configuration Directory The maa-cli configuration files are located in a specific configuration directory, which you can get by running maa dir config. The configu...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Configuration\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-07-16T17:24:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MaaAssistantArknights\\"}]}"],["meta",{"property":"og:url","content":"https://maa.plus/docs/en-us/manual/cli/config.html"}],["meta",{"property":"og:site_name","content":"MaaAssistantArknights"}],["meta",{"property":"og:title","content":"Configuration"}],["meta",{"property":"og:description","content":"Configuration Configuration Directory The maa-cli configuration files are located in a specific configuration directory, which you can get by running maa dir config. The configu..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-us"}],["meta",{"property":"og:locale:alternate","content":"ko-kr"}],["meta",{"property":"og:locale:alternate","content":"ja-jp"}],["meta",{"property":"og:locale:alternate","content":"zh-tw"}],["meta",{"property":"og:locale:alternate","content":"zh-cn"}],["meta",{"property":"og:updated_time","content":"2025-07-16T17:24:35.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-16T17:24:35.000Z"}],["link",{"rel":"alternate","hreflang":"ko-kr","href":"https://maa.plus/docs/ko-kr/manual/cli/config.html"}],["link",{"rel":"alternate","hreflang":"ja-jp","href":"https://maa.plus/docs/ja-jp/manual/cli/config.html"}],["link",{"rel":"alternate","hreflang":"zh-tw","href":"https://maa.plus/docs/zh-tw/manual/cli/config.html"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://maa.plus/docs/zh-cn/manual/cli/config.html"}]]},"git":{"createdTime":1752686675000,"updatedTime":1752686675000,"contributors":[{"name":"MistEO","username":"MistEO","email":"mistereo@hotmail.com","commits":1,"url":"https://github.com/MistEO"}]},"readingTime":{"minutes":10.79,"words":3237},"filePathRelative":"en-us/manual/cli/config.md","autoDesc":true}');export{g as comp,y as data};
