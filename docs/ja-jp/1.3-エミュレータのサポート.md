# エミュレータのサポート

## ✅ [Bluestacks-CN 5](https://www.bluestacks.cn/)

サポートされています。エミュレーターの「設定」-「エンジン設定」で「ADB接続を許可する」をオンにする必要があります。

## ✅ [Bluestacks 5](https://www.bluestacks.com/ja/index.html)（おすすめ👍）

サポートされています。エミュレーターの「設定」-「上位設定」で「Android Debug Bridge」をオンにする必要があります。

## ✅ [Bluestacks 5 Hyper-V](https://support.bluestacks.com/hc/ja/articles/4412148150157-BlueStacks-5-Windows%E3%81%A7Hyper-V%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95)

サポートされています。

- 「設定」-「上位設定」で「Android Debug Bridge」をオンにする。
- BlueStacks Hyper-Vのポート番号は常に変化しているため、専用の小さなバックドアが残されています：

    1. BlueStacksのデータディレクトリで `bluestacks.conf` ファイルを見つけてください（デフォルトパスは `C:\ProgramData\BlueStacks_nxt\bluestacks.conf` です）。
    2. 初めて使用する場合はMAAを一度開いてください、同じディレクトリに `gui.json` が生成されます。
    3. 最初にMAAを**閉じ**、**次に** `gui.json` を開き、新しいフィールド `Bluestacks.Config.Path` を追加し、`bluestacks.conf` のフルパスを入力してください（スラッシュの `\\` をエスケープしてください）。
    例：（`C:\ProgramData\BlueStacks_nxt\bluestacks.conf` を例にとります）

        ```jsonc
        {
            "Configurations": {
                "Default": {
                    "Bluestacks.Config.Path":"C:\\ProgramData\\BlueStacks_nxt\\bluestacks.conf",
                    // ...
                }
            }
        }
        ```

    4. MAAを開いて、Link Start！

- 複数起動する必要がある場合（複数起動しない場合は、この手順を無視してください）、MAA検出構成ファイルのフィールドを変更できます。<br>
    上記の手順に従って、`Bluestacks.Config.Keyword` フィールドを追加します<br>
    例：

    ```jsonc
    "Bluestacks.Config.Keyword":"bst.instance.Nougat64.status.adb_port",
    ```

## ✅ [Nox Player](https://jp.bignox.com/)

サポートされています。

## ✅ [Nox Player Android 9](https://jp.bignox.com/)

サポートされています。

## ⚠️ [MuMu Player](https://www.mumuglobal.com/jp/)

サポートされていますが・・・

- adbパスとアドレスを自動的に取得するには、管理者権限でMAAを開く必要があります（MuMu Player自体が管理者によって開始される必要があるため）。
- 管理者に開始させたくない場合は、MAAの設定でadbパスとアドレスを入力してください。
- MuMuのデフォルトのいくつかの奇妙な解像度を使用することはお勧めしません。代わりに、 1280x720、 1920x1080、 2560x1440 などの主流の解像度に変更することをお勧めします。
- MuMuの複数起動は同じADBポートを使用しているため、MuMuの複数起動をサポートできません。

## 🚫 MuMu Nebula<br>

サポートされていません。adbポートの開放が提供されていません。

## [⚠️ MuMu エミュレータ X （Android 12）](https://www.mumuglobal.com/jp/)（最もスムーズ👍）

サポートされていますが・・・

- このエミュレータはまだテスト段階であり、未知の問題が発生するかどうかは不明です。
- adbパスとアドレスを自動的に取得するには、管理者権限でMAAを開く必要があります（MuMu Player自体が管理者によって開始される必要があるため）。
- 管理者権限で開きたくない場合は、MAAの設定でadbパスとアドレスを入力してください。
- MuMuのデフォルトのいくつかの奇妙な解像度を使用することはお勧めしません。代わりに、 1280x720、 1920x1080、 2560x1440 などの主流の解像度に変更することをお勧めします。
- MuMuの複数起動は同じADBポートを使用しているため、MuMuの複数起動をサポートできません。

## ⚠️ [Leidian](https://www.ldmnq.com/)

最近、公式のアップデートで問題がいくつか修正され、対応が提供されました。一定期間のテストの結果、基本的に正常に使用できることが確認されました。
使用する際は以下の点に注意が必要ですが、全体的に使用感が大幅に改善されています。

- **雷電 9 は 9.0.37 以上のバージョンを推奨します。雷電 5 は 5.0.44 以上のバージョンを推奨します。**
- すべてのコンピューターで雷電シミュレーターが完全に動作することを保証することはできませんが、対応を改善するために努力しています。
- 雷電シミュレーターを使用して問題が発生した場合は、最新バージョンに更新し、自分で解決できるかどうかを試してください。困難が生じた場合は、お問い合わせいただくか、問題を報告していただけると幸いです。
- 注意：雷電シミュレーターに関する問題の報告は歓迎され、解決するために取り組みます。関連するコードや貢献を提供していただける場合は、大変感謝いたします。

## ✅ [Memu Play](https://www.memuplay.com/jp/)

サポートされていますが・・・さまざまな問題が発生する可能性があります。

## 🚫 Tencent Player（腾讯手游助手）

サポートされていません。adbポートの開放が提供されていません。

## ⚠️ [Win11 WSA](https://docs.microsoft.com/ja-jp/windows/android/wsa/)

一部だけですがサポートしています。

- [カスタム接続](#%EF%B8%8F-カスタム接続)を使用して接続する必要があります。
- WSA 2204以上のバージョンの場合は（バージョン番号はWSA設定の `About` ページにあります）、接続設定で `一般モード` を選択します。
- WSA 2203以下のバージョンの場合は（バージョン番号はWSA設定ページの上部にあります）、接続設定で `WSA古いバージョン` を選択します。
- このアプリは720p以上の16:9解像度をより適切にサポートするため、手動でウィンドウサイズをドラッグして16:9の比率にできるだけ近づけてください（モニターが16:9の場合は、`F11` を直接押してフルスクリーンにします）。
- 実行中はアークナイツが前面である必要があり、他のAndroidアプリが同時に前面で実行されていないことを確認してください。競合している場合、ゲームが中断したり、認識エラーが発生したりする可能性があります。
- WSAのスクリーンショットは真っ白な画面を切り取って、認識エラーを引き起こすことがよくあります。お勧めしません。

## ✅ [AVD](https://developer.android.com/studio/run/managing-avds)

サポートされています。

### ⚙️ スマホやタブレットなどの16:9解像度以外のデバイス

MAAは16:9の解像度をより適切にサポートするため、手動で解像度を強制的に変更する必要があります。

1. スマホで「USBデバッグ」をオンにしてデータケーブルをコンピュータホストに接続するか、「ワイヤレスデバッグ」を直接使用してデバッグしてください。
2. `コマンドプロンプト（CMD）` を実行し、デバイスアドレスを表示して接続します。

    - USBデータケーブルを使用して接続する場合、次のコマンドを入力して、デバイスIDを表示します。

    ```bash
    adb devices                          # 現在接続されているデバイスを表示する。最初の列はデバイスIDです。
    ```

    - 「ワイヤレスデバッグ」を使用して接続する場合、ワイヤレスデバッグの詳細画面では端末のIPアドレスとワイヤレスデバッグ用のポート番号が表示されます。ポート番号は通常5555または5037です。

    ```bash
    adb connect <IPアドレス:ポート>        # たとえば192.168.0.10:5555
    ```

3. デバイスの端末を使って操作します。

   ```bash
   adb -s <デバイスID または IPアドレス:ポート> shell  # デバイスの端末を使う
   wm size                               # 現在のデバイスの解像度を表示する
   wm size 720x1280                      # 解像度を720pに調整する
   ```

4. MAAの設定で、adbパスとスマホアドレス（デバイスID または IPアドレス:ポート）を入力します。
5. ゲーム内の設定で、「UI調整」オプションを0（オフ状態）に調整します。<br>
    このオプションを設定しない場合、adbを使用して解像度を調整すると、スマホのUIとキーの応答の位置がずれる可能性があります（？）
6. MAAを使用します (≧∇≦)ﾉ
7. タスクが完了したら、MAAを終了する前に、スマホの元の解像度を戻します。

   ```bash
   wm size reset                         # 元の解像度に戻す
   ```
