import{_ as d,c as r,b as a,d as i,a as n,w as t,e as s,r as o,o as p}from"./app-DQ1rEmwn.js";const u={},k={class:"vp-field-group"},h={class:"vp-field-group"},c={class:"vp-field-group"},g={class:"vp-field-group"},y={class:"vp-field-group"},C={class:"vp-field-group"},b={class:"vp-field-group"},m={class:"vp-field-group"},f={class:"vp-field-group"},D={class:"vp-field-group"},E={class:"vp-field-group"},A={class:"vp-field-group"},v={class:"vp-field-group"},B={class:"vp-field-group"},q={class:"vp-field-group"},F={class:"vp-field-group"},T={class:"vp-field-group"},S={class:"vp-field-group"},x={class:"vp-field-group"};function I(R,l){const e=o("VPField");return p(),r("div",null,[l[70]||(l[70]=a(`<div class="hint-container info"><p class="hint-container-title">注意</p><p>回呼訊息 (Callback) 隨版本更新快速迭代中，本文件可能過時。如需獲取最新內容可參考 <a href="https://github.com/MaaAssistantArknights/MaaAssistantArknights/blob/dev/src/MaaWpfGui/Main/AsstProxy.cs" target="_blank" rel="noopener noreferrer">C# 整合原始碼</a></p></div><h2 id="回呼函式原型" tabindex="-1"><a class="header-anchor" href="#回呼函式原型"><span>回呼函式原型</span></a></h2><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#565869;--shiki-dark:#d6deeb;--shiki-light-bg:#FAFBFC;--shiki-dark-bg:#011627;"><pre class="shiki shiki-themes snazzy-light night-owl vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#F767BB;--shiki-dark:#C792EA;">typedef</span><span style="--shiki-light:#2DAE58;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">(</span><span style="--shiki-light:#565869;--shiki-dark:#D6DEEB;">ASST_CALL</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">*</span><span style="--shiki-light:#565869;--shiki-dark:#D6DEEB;"> AsstCallback</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">)(</span><span style="--shiki-light:#2DAE58;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#565869;--shiki-dark:#D6DEEB;"> msg</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#F767BB;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic;"> const</span><span style="--shiki-light:#2DAE58;--shiki-dark:#C792EA;"> char</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">*</span><span style="--shiki-light:#565869;--shiki-dark:#D6DEEB;"> details</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#2DAE58;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">*</span><span style="--shiki-light:#565869;--shiki-dark:#D6DEEB;"> custom_arg</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="參數總覽" tabindex="-1"><a class="header-anchor" href="#參數總覽"><span>參數總覽</span></a></h2><ul><li><p><code>int msg</code><br> 消息類型</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#565869;--shiki-dark:#d6deeb;--shiki-light-bg:#FAFBFC;--shiki-dark-bg:#011627;"><pre class="shiki shiki-themes snazzy-light night-owl vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#F767BB;--shiki-dark:#C792EA;">enum</span><span style="--shiki-light:#F767BB;--shiki-dark:#C792EA;"> class</span><span style="--shiki-light:#565869;--shiki-dark:#D6DEEB;"> AsstMsg</span></span>
<span class="line"><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">{</span></span>
<span class="line"><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;"> /* Global Info */</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> InternalError</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">     =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 0</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">           // 內部錯誤</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> InitFailed</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">        =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">           // 初始化失敗</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> ConnectionInfo</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">    =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">           // 連線相關資訊</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> AllTasksCompleted</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 3</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">           // 全部任務完成</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> AsyncCallInfo</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">     =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 4</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">           // 外部非同步調用資訊</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> Destroyed</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">         =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 5</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">           // 執行個體已銷毀</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;"> /* TaskChain Info */</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> TaskChainError</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">     =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 10000</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">      // 任務鏈執行 / 辨識錯誤</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> TaskChainStart</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">     =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 10001</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">      // 任務鏈開始</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> TaskChainCompleted</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 10002</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">      // 任務鏈完成</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> TaskChainExtraInfo</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;"> =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 10003</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">      // 任務鏈額外資訊</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> TaskChainStopped</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">   =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 10004</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">      // 任務鏈手動停止</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;"> /* SubTask Info */</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> SubTaskError</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">      =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 20000</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">       // 原子任務執行 / 辨識錯誤</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> SubTaskStart</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">      =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 20001</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">       // 原子任務開始</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> SubTaskCompleted</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">  =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 20002</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">       // 原子任務完成</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> SubTaskExtraInfo</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">  =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 20003</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">       // 原子任務額外資訊</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> SubTaskStopped</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">    =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 20004</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">       // 原子任務手動停止</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;"> /* Web Request */</span></span>
<span class="line"><span style="--shiki-light:#565869;--shiki-dark:#C5E478;"> ReportRequest</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#C792EA;">     =</span><span style="--shiki-light:#FF5C57;--shiki-dark:#F78C6C;"> 30000</span><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">,</span><span style="--shiki-light:#ADB1C2;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic;">       // 彙報請求</span></span>
<span class="line"><span style="--shiki-light:#ADB1C2;--shiki-dark:#D6DEEB;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>const char* details</code><br> 消息詳情，json 字串，詳見 <a href="#%E6%AC%84%E4%BD%8D%E8%A7%A3%E9%87%8B">欄位解釋</a></p></li><li><p><code>void* custom_arg</code><br> 調用端自定義參數。會原樣傳出 <code>AsstCreateEx</code> 介面中的 <code>custom_arg</code> 參數，C 系語言可利用此參數傳出 <code>this</code> 指標。</p></li></ul><h2 id="欄位解釋" tabindex="-1"><a class="header-anchor" href="#欄位解釋"><span>欄位解釋</span></a></h2><h3 id="internalerror" tabindex="-1"><a class="header-anchor" href="#internalerror"><span>InternalError</span></a></h3><p><code>details</code> 欄位為空。</p><h3 id="initfailed" tabindex="-1"><a class="header-anchor" href="#initfailed"><span>InitFailed</span></a></h3>`,9)),i("div",k,[n(e,{name:"what",required:"",type:"string"},{default:t(()=>[...l[0]||(l[0]=[i("p",null,"錯誤類型。",-1)])]),_:1}),n(e,{name:"why",required:"",type:"string"},{default:t(()=>[...l[1]||(l[1]=[i("p",null,"錯誤原因。",-1)])]),_:1}),n(e,{name:"details",required:"",type:"object"},{default:t(()=>[...l[2]||(l[2]=[i("p",null,"錯誤詳情。",-1)])]),_:1})]),l[71]||(l[71]=i("h3",{id:"connectioninfo",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#connectioninfo"},[i("span",null,"ConnectionInfo")])],-1)),i("div",h,[n(e,{name:"what",required:"",type:"string"},{default:t(()=>[...l[3]||(l[3]=[i("p",null,"資訊類型。",-1)])]),_:1}),n(e,{name:"why",required:"",type:"string"},{default:t(()=>[...l[4]||(l[4]=[i("p",null,"資訊原因。",-1)])]),_:1}),n(e,{name:"uuid",type:"string"},{default:t(()=>[...l[5]||(l[5]=[i("p",null,"設備唯一碼（連線失敗時為空）。",-1)])]),_:1}),n(e,{name:"details",required:"",type:"object"},{default:t(()=>[...l[6]||(l[6]=[i("p",null,"連線詳情。其結構如下：",-1),i("ul",null,[i("li",null,[i("code",null,"adb"),s(" (string, required): "),i("code",null,"AsstConnect"),s(" 介面 "),i("code",null,"adb_path"),s(" 參數。")]),i("li",null,[i("code",null,"address"),s(" (string, required): "),i("code",null,"AsstConnect"),s(" 介面 "),i("code",null,"address"),s(" 參數。")]),i("li",null,[i("code",null,"config"),s(" (string, required): "),i("code",null,"AsstConnect"),s(" 介面 "),i("code",null,"config"),s(" 參數。")])],-1)])]),_:1})]),l[72]||(l[72]=a('<h3 id="常見-what-欄位" tabindex="-1"><a class="header-anchor" href="#常見-what-欄位"><span>常見 <code>What</code> 欄位</span></a></h3><ul><li><code>ConnectFailed</code><br> 連線失敗</li><li><code>Connected</code><br> 已連接，注意此時的 <code>uuid</code> 欄位值為空（下一步才是獲取）</li><li><code>UuidGot</code><br> 已獲取到設備唯一碼</li><li><code>UnsupportedResolution</code><br> 解析度不被支援</li><li><code>ResolutionError</code><br> 解析度獲取錯誤</li><li><code>Reconnecting</code><br> 連線中斷（adb / 模擬器 炸了），正在重連</li><li><code>Reconnected</code><br> 連線中斷（adb / 模擬器 炸了），重連成功</li><li><code>Disconnect</code><br> 連線中斷（adb / 模擬器 炸了），並重試失敗</li><li><code>ScreencapFailed</code><br> 截圖失敗（adb / 模擬器 炸了），並重試失敗</li><li><code>TouchModeNotAvailable</code><br> 不支援的觸控模式</li></ul><h3 id="asynccallinfo" tabindex="-1"><a class="header-anchor" href="#asynccallinfo"><span>AsyncCallInfo</span></a></h3>',3)),i("div",c,[n(e,{name:"uuid",required:"",type:"string"},{default:t(()=>[...l[7]||(l[7]=[i("p",null,"設備唯一碼。",-1)])]),_:1}),n(e,{name:"what",required:"",type:"string"},{default:t(()=>[...l[8]||(l[8]=[i("p",null,[s("回呼類型，例如 "),i("code",null,"Connect"),s(" | "),i("code",null,"Click"),s(" | "),i("code",null,"Screencap"),s(" 等。")],-1)])]),_:1}),n(e,{name:"async_call_id",required:"",type:"number"},{default:t(()=>[...l[9]||(l[9]=[i("p",null,[s("非同步請求 ID，即調用 "),i("code",null,"AsstAsyncXXX"),s(" 時的回傳值。")],-1)])]),_:1}),n(e,{name:"details",required:"",type:"object"},{default:t(()=>[...l[10]||(l[10]=[i("p",null,"非同步調用詳情。其結構如下：",-1),i("ul",null,[i("li",null,[i("code",null,"ret"),s(" (boolean, required): 實際調用的回傳值。")]),i("li",null,[i("code",null,"cost"),s(" (number, required): 耗時，單位毫秒。")])],-1)])]),_:1})]),l[73]||(l[73]=i("h3",{id:"alltaskscompleted",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#alltaskscompleted"},[i("span",null,"AllTasksCompleted")])],-1)),i("div",g,[n(e,{name:"taskchain",required:"",type:"string"},{default:t(()=>[...l[11]||(l[11]=[i("p",null,"最後的任务鏈。",-1)])]),_:1}),n(e,{name:"uuid",required:"",type:"string"},{default:t(()=>[...l[12]||(l[12]=[i("p",null,"設備唯一碼。",-1)])]),_:1}),n(e,{name:"finished_tasks",required:"",type:"array<number>"},{default:t(()=>[...l[13]||(l[13]=[i("p",null,"已經執行過的任務 ID 列表。",-1)])]),_:1})]),l[74]||(l[74]=a('<h4 id="常見-taskchain-欄位" tabindex="-1"><a class="header-anchor" href="#常見-taskchain-欄位"><span>常見 <code>taskchain</code> 欄位</span></a></h4><ul><li><code>StartUp</code><br> 開始喚醒</li><li><code>CloseDown</code><br> 關閉遊戲</li><li><code>Fight</code><br> 刷理智</li><li><code>Mall</code><br> 信用點及購物</li><li><code>Recruit</code><br> 自動公招</li><li><code>Infrast</code><br> 基建換班</li><li><code>Award</code><br> 領取日常獎勵</li><li><code>Roguelike</code><br> 無限刷肉鴿</li><li><code>Copilot</code><br> 自動抄作業</li><li><code>SSSCopilot</code><br> 自動抄保全作業</li><li><code>Depot</code><br> 倉庫辨識</li><li><code>OperBox</code><br> 幹員 Box 辨識</li><li><code>Reclamation</code><br> 生息演算</li><li><code>Custom</code><br> 自定義任務</li><li><code>SingleStep</code><br> 單步任務</li><li><code>VideoRecognition</code><br> 影片辨識任務</li><li><code>Debug</code><br> 偵錯</li></ul><h3 id="taskchain-相關消息" tabindex="-1"><a class="header-anchor" href="#taskchain-相關消息"><span>TaskChain 相關消息</span></a></h3>',3)),i("div",y,[n(e,{name:"taskchain",required:"",type:"string"},{default:t(()=>[...l[14]||(l[14]=[i("p",null,"目前的任務鏈。",-1)])]),_:1}),n(e,{name:"taskid",required:"",type:"number"},{default:t(()=>[...l[15]||(l[15]=[i("p",null,"目前任務 TaskId。",-1)])]),_:1}),n(e,{name:"uuid",required:"",type:"string"},{default:t(()=>[...l[16]||(l[16]=[i("p",null,"設備唯一碼。",-1)])]),_:1})]),l[75]||(l[75]=i("h3",{id:"taskchainextrainfo",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#taskchainextrainfo"},[i("span",null,"TaskChainExtraInfo")])],-1)),l[76]||(l[76]=i("p",null,[i("code",null,"details"),s(" 欄位為空。")],-1)),l[77]||(l[77]=i("h3",{id:"subtask-相關消息",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#subtask-相關消息"},[i("span",null,"SubTask 相關消息")])],-1)),i("div",C,[n(e,{name:"subtask",required:"",type:"string"},{default:t(()=>[...l[17]||(l[17]=[i("p",null,"子任務名稱。",-1)])]),_:1}),n(e,{name:"class",required:"",type:"string"},{default:t(()=>[...l[18]||(l[18]=[i("p",null,"子任務符號名稱。",-1)])]),_:1}),n(e,{name:"taskchain",required:"",type:"string"},{default:t(()=>[...l[19]||(l[19]=[i("p",null,"目前任務鏈。",-1)])]),_:1}),n(e,{name:"taskid",required:"",type:"number"},{default:t(()=>[...l[20]||(l[20]=[i("p",null,"目前任務 TaskId。",-1)])]),_:1}),n(e,{name:"details",required:"",type:"object"},{default:t(()=>[...l[21]||(l[21]=[i("p",null,"詳情。",-1)])]),_:1}),n(e,{name:"uuid",required:"",type:"string"},{default:t(()=>[...l[22]||(l[22]=[i("p",null,"設備唯一碼。",-1)])]),_:1})]),l[78]||(l[78]=i("h4",{id:"常見-subtask-欄位",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#常見-subtask-欄位"},[i("span",null,[s("常見 "),i("code",null,"subtask"),s(" 欄位")])])],-1)),i("ul",null,[i("li",null,[l[28]||(l[28]=i("p",null,[i("code",null,"ProcessTask"),i("br"),i("code",null,"details"),s(" 欄位内容如下：")],-1)),i("div",b,[n(e,{name:"task",required:"",type:"string"},{default:t(()=>[...l[23]||(l[23]=[i("p",null,"任務名稱。",-1)])]),_:1}),n(e,{name:"action",required:"",type:"number"},{default:t(()=>[...l[24]||(l[24]=[i("p",null,"Action ID。",-1)])]),_:1}),n(e,{name:"exec_times",required:"",type:"number"},{default:t(()=>[...l[25]||(l[25]=[i("p",null,"已執行次數。",-1)])]),_:1}),n(e,{name:"max_times",required:"",type:"number"},{default:t(()=>[...l[26]||(l[26]=[i("p",null,"最大執行次數。",-1)])]),_:1}),n(e,{name:"algorithm",required:"",type:"number"},{default:t(()=>[...l[27]||(l[27]=[i("p",null,"辨識算法。",-1)])]),_:1})])]),l[29]||(l[29]=i("li",null,[i("p",null,"Todo 其他")],-1))]),l[79]||(l[79]=a('<h5 id="常見-task-欄位" tabindex="-1"><a class="header-anchor" href="#常見-task-欄位"><span>常見 <code>task</code> 欄位</span></a></h5><ul><li><code>StartButton2</code><br> 開始戰鬥</li><li><code>MedicineConfirm</code><br> 使用理智藥</li><li><code>ExpiringMedicineConfirm</code><br> 使用 48 小時內過期的理智藥</li><li><code>StoneConfirm</code><br> 碎石</li><li><code>RecruitRefreshConfirm</code><br> 公招刷新標籤</li><li><code>RecruitConfirm</code><br> 公招確認招募</li><li><code>RecruitNowConfirm</code><br> 公招使用加急許可</li><li><code>ReportToPenguinStats</code><br> 匯報到企鵝數據統計</li><li><code>ReportToYituliu</code><br> 匯報到一圖流大數據</li><li><code>InfrastDormDoubleConfirmButton</code><br> 基建宿舍的二次確認按鈕。僅當幹員衝突時才會出現，請提示使用者。</li><li><code>StartExplore</code><br> 肉鴿開始探索</li><li><code>StageTraderInvestConfirm</code><br> 肉鴿投資源石錠</li><li><code>StageTraderInvestSystemFull</code><br> 肉鴿投資達到遊戲上限</li><li><code>ExitThenAbandon</code><br> 肉鴿放棄本次探索</li><li><code>MissionCompletedFlag</code><br> 肉鴿戰鬥完成</li><li><code>MissionFailedFlag</code><br> 肉鴿戰鬥失敗</li><li><code>StageTraderEnter</code><br> 肉鴿關卡：詭異行商</li><li><code>StageSafeHouseEnter</code><br> 肉鴿關卡：安全的角落</li><li><code>StageEncounterEnter</code><br> 肉鴿關卡：不期而遇 / 古堡饋贈</li><li><code>StageCombatOpsEnter</code><br> 肉鴿關卡：普通作戰</li><li><code>StageEmergencyOps</code><br> 肉鴿關卡：緊急作戰</li><li><code>StageDreadfulFoe</code><br> 肉鴿關卡：險路惡敵</li><li><code>StartGameTask</code> 打開客戶端失敗（設定檔與傳入 client_type 不匹配）</li><li>Todo 其他</li></ul><h3 id="subtaskextrainfo" tabindex="-1"><a class="header-anchor" href="#subtaskextrainfo"><span>SubTaskExtraInfo</span></a></h3>',3)),i("div",m,[n(e,{name:"taskchain",required:"",type:"string"},{default:t(()=>[...l[30]||(l[30]=[i("p",null,"目前任務鏈。",-1)])]),_:1}),n(e,{name:"class",required:"",type:"string"},{default:t(()=>[...l[31]||(l[31]=[i("p",null,"子任務類型。",-1)])]),_:1}),n(e,{name:"what",required:"",type:"string"},{default:t(()=>[...l[32]||(l[32]=[i("p",null,"資訊類型。",-1)])]),_:1}),n(e,{name:"details",required:"",type:"object"},{default:t(()=>[...l[33]||(l[33]=[i("p",null,"資訊詳情。",-1)])]),_:1}),n(e,{name:"uuid",required:"",type:"string"},{default:t(()=>[...l[34]||(l[34]=[i("p",null,"設備唯一碼。",-1)])]),_:1})]),l[80]||(l[80]=i("h4",{id:"常見-what-及-details-欄位",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#常見-what-及-details-欄位"},[i("span",null,[s("常見 "),i("code",null,"what"),s(" 及 "),i("code",null,"details"),s(" 欄位")])])],-1)),i("ul",null,[l[60]||(l[60]=a("<li><p><code>StageDrops</code><br> 關卡材料掉落資訊。<code>details</code> 欄位結構如下：</p><ul><li><code>drops</code> (array, required)：本次辨識到的掉落材料，陣列每一項包含： <ul><li><code>itemId</code> (string, required)：材料 ID。</li><li><code>quantity</code> (number, required)：掉落數量。</li><li><code>itemName</code> (string, required)：材料名稱。</li></ul></li><li><code>stage</code> (object, required)：關卡資訊，包含： <ul><li><code>stageCode</code> (string, required)：關卡編號。</li><li><code>stageId</code> (string, required)：關卡 ID。</li></ul></li><li><code>stars</code> (number, required)：行動結束星級。</li><li><code>stats</code> (array, required)：本次執行期間總計材料掉落，陣列每一項包含： <ul><li><code>itemId</code> (string, required)：材料 ID。</li><li><code>itemName</code> (string, required)：材料名稱。</li><li><code>quantity</code> (number, required)：總計數量。</li><li><code>addQuantity</code> (number, required)：本次新增的掉落數量。</li></ul></li></ul></li>",1)),i("li",null,[l[36]||(l[36]=i("p",null,[i("code",null,"RecruitTagsDetected"),i("br"),s(" 公招辨識到了 Tags。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",f,[n(e,{name:"tags",required:"",type:"array<string>"},{default:t(()=>[...l[35]||(l[35]=[i("p",null,"辨識到的 Tag 列表。",-1)])]),_:1})])]),i("li",null,[l[38]||(l[38]=i("p",null,[i("code",null,"RecruitSpecialTag"),i("br"),s(" 公招辨識到了特殊 Tag。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",D,[n(e,{name:"tag",required:"",type:"string"},{default:t(()=>[...l[37]||(l[37]=[i("p",null,"特殊 Tag 名稱，例如 高級資深幹員。",-1)])]),_:1})])]),l[61]||(l[61]=a("<li><p><code>RecruitResult</code><br> 公招辨識結果。<code>details</code> 欄位結構如下：</p><ul><li><code>tags</code> (array, required)：所有辨識到的 tags，目前固定為 5 個。</li><li><code>level</code> (number, required)：組合的最高星級。</li><li><code>result</code> (array, required)：具體的組合結果，陣列每一項包含： <ul><li><code>tags</code> (array, required)：參與組合的 tags。</li><li><code>level</code> (number, required)：這組 tags 的星級。</li><li><code>opers</code> (array, required)：可能招募到的幹員，陣列每一項包含： <ul><li><code>name</code> (string, required)：幹員名稱。</li><li><code>level</code> (number, required)：幹員星級。</li></ul></li></ul></li></ul></li>",1)),i("li",null,[l[41]||(l[41]=i("p",null,[i("code",null,"RecruitTagsRefreshed"),i("br"),s(" 公招刷新了 Tags。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",E,[n(e,{name:"count",required:"",type:"number"},{default:t(()=>[...l[39]||(l[39]=[i("p",null,"目前槽位已刷新次數。",-1)])]),_:1}),n(e,{name:"refresh_limit",required:"",type:"number"},{default:t(()=>[...l[40]||(l[40]=[i("p",null,"目前槽位刷新次數上限。",-1)])]),_:1})])]),i("li",null,[l[43]||(l[43]=i("p",null,[i("code",null,"RecruitNoPermit"),i("br"),s(" 公招無招聘許可。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",A,[n(e,{name:"continue",required:"",type:"boolean"},{default:t(()=>[...l[42]||(l[42]=[i("p",null,"是否繼續刷新。",-1)])]),_:1})])]),i("li",null,[l[45]||(l[45]=i("p",null,[i("code",null,"RecruitTagsSelected"),i("br"),s(" 公招選擇了 Tags。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",v,[n(e,{name:"tags",required:"",type:"array<string>"},{default:t(()=>[...l[44]||(l[44]=[i("p",null,"選擇的 Tag 列表。",-1)])]),_:1})])]),l[62]||(l[62]=i("li",null,[i("p",null,[i("code",null,"RecruitSlotCompleted"),i("br"),s(" 目前公招槽位任務完成。"),i("code",null,"details"),s(" 欄位為空。")])],-1)),l[63]||(l[63]=i("li",null,[i("p",null,[i("code",null,"RecruitError"),i("br"),s(" 公招辨識錯誤。"),i("code",null,"details"),s(" 欄位為空。")])],-1)),i("li",null,[l[48]||(l[48]=i("p",null,[i("code",null,"EnterFacility"),i("br"),s(" 基建進入了設施。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",B,[n(e,{name:"facility",required:"",type:"string"},{default:t(()=>[...l[46]||(l[46]=[i("p",null,"設施名稱。",-1)])]),_:1}),n(e,{name:"index",required:"",type:"number"},{default:t(()=>[...l[47]||(l[47]=[i("p",null,"設施序號。",-1)])]),_:1})])]),i("li",null,[l[51]||(l[51]=i("p",null,[i("code",null,"NotEnoughStaff"),i("br"),s(" 基建可用幹員不足。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",q,[n(e,{name:"facility",required:"",type:"string"},{default:t(()=>[...l[49]||(l[49]=[i("p",null,"設施名稱。",-1)])]),_:1}),n(e,{name:"index",required:"",type:"number"},{default:t(()=>[...l[50]||(l[50]=[i("p",null,"設施序號。",-1)])]),_:1})])]),i("li",null,[l[55]||(l[55]=i("p",null,[i("code",null,"ProductOfFacility"),i("br"),s(" 基建產物。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",F,[n(e,{name:"product",required:"",type:"string"},{default:t(()=>[...l[52]||(l[52]=[i("p",null,"產物名稱。",-1)])]),_:1}),n(e,{name:"facility",required:"",type:"string"},{default:t(()=>[...l[53]||(l[53]=[i("p",null,"設施名稱。",-1)])]),_:1}),n(e,{name:"index",required:"",type:"number"},{default:t(()=>[...l[54]||(l[54]=[i("p",null,"設施序號。",-1)])]),_:1})])]),i("li",null,[l[57]||(l[57]=i("p",null,[i("code",null,"StageInfo"),i("br"),s(" 自動作戰關卡資訊。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",T,[n(e,{name:"name",required:"",type:"string"},{default:t(()=>[...l[56]||(l[56]=[i("p",null,"關卡名稱。",-1)])]),_:1})])]),l[64]||(l[64]=i("li",null,[i("p",null,[i("code",null,"StageInfoError"),i("br"),s(" 自動作戰關卡辨識錯誤。"),i("code",null,"details"),s(" 欄位為空。")])],-1)),i("li",null,[l[59]||(l[59]=i("p",null,[i("code",null,"PenguinId"),i("br"),s(" 企鵝物流 ID。"),i("code",null,"details"),s(" 欄位內容如下：")],-1)),i("div",S,[n(e,{name:"id",required:"",type:"string"},{default:t(()=>[...l[58]||(l[58]=[i("p",null,"企鵝物流 ID。",-1)])]),_:1})])]),l[65]||(l[65]=a("<li><p><code>Depot</code><br> 倉庫辨識結果。<code>details</code> 欄位結構如下：</p><ul><li><code>done</code> (boolean, required)：是否已經辨識完了，為 false 表示仍在辨識中（過程中的數據）。</li><li><code>data</code> (string, required)：json 字串，格式為 {&quot;物品ID&quot;: 數量, ...}，例如 {&quot;2001&quot;:18000,&quot;31043&quot;:317}。</li></ul></li><li><p><code>OperBox</code><br> 幹員辨識結果。<code>details</code> 欄位結構如下：</p><ul><li><code>done</code> (boolean, required)：是否已經辨識完了，為 false 表示仍在辨識中（過程中的數據）。</li><li><code>all_oper</code> (array, required)：全幹員列表，陣列每一項包含： <ul><li><code>id</code> (string, required)：幹員 ID。</li><li><code>name</code> (string, required)：幹員名稱。</li><li><code>own</code> (boolean, required)：是否擁有。</li><li><code>rarity</code> (number, required)：幹員稀有度 [1, 6]。</li></ul></li><li><code>own_opers</code> (array, required)：已擁有幹員的詳細資訊列表，陣列每一項包含： <ul><li><code>id</code> (string, required)：幹員 ID。</li><li><code>name</code> (string, required)：幹員名稱。</li><li><code>own</code> (boolean, required)：是否擁有。</li><li><code>elite</code> (number, required)：精英等級 [0, 2]。</li><li><code>level</code> (number, required)：幹員等級。</li><li><code>potential</code> (number, required)：幹員潛能 [1, 6]。</li><li><code>rarity</code> (number, required)：幹員稀有度 [1, 6]。</li></ul></li></ul></li><li><p><code>UnsupportedLevel</code><br> 自動抄作業，不支援的關卡名稱。<code>details</code> 欄位為空。</p></li>",3))]),l[81]||(l[81]=i("h3",{id:"reportrequest",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#reportrequest"},[i("span",null,"ReportRequest")])],-1)),l[82]||(l[82]=i("p",null,"該欄位主要用於核心模組向 UI 層傳遞網路請求資訊，UI 負責執行具體的 HTTP 彙報操作。",-1)),i("div",x,[n(e,{name:"url",required:"",type:"string"},{default:t(()=>[...l[66]||(l[66]=[i("p",null,[s("請求的完整 URL，例如 "),i("code",null,"https://penguin-stats.io/PenguinStats/api/v2/report"),s("。")],-1)])]),_:1}),n(e,{name:"headers",required:"",type:"object"},{default:t(()=>[...l[67]||(l[67]=[i("p",null,[s("請求 Headers 的 Key-Value 設定（不包含 "),i("code",null,"Content-Type"),s("，由 UI 層自行加入）。")],-1)])]),_:1}),n(e,{name:"body",required:"",type:"string"},{default:t(()=>[...l[68]||(l[68]=[i("p",null,"請求 Body 內容（通常為 json 格式的字串）。",-1)])]),_:1}),n(e,{name:"subtask",required:"",type:"string"},{default:t(()=>[...l[69]||(l[69]=[i("p",null,[s("子任務名稱，辨識具體彙報任務，如 "),i("code",null,"ReportToPenguinStats"),s("、"),i("code",null,"ReportToYituliu"),s("。")],-1)])]),_:1})])])}const j=d(u,[["render",I]]),M=JSON.parse('{"path":"/zh-tw/protocol/callback-schema.html","title":"回呼訊息協定","lang":"zh-TW","frontmatter":{"order":2,"icon":"material-symbols:u-turn-left","title":"回呼訊息協定","description":"注意 回呼訊息 (Callback) 隨版本更新快速迭代中，本文件可能過時。如需獲取最新內容可參考 C# 整合原始碼 回呼函式原型 參數總覽 int msg 消息類型 const char* details 消息詳情，json 字串，詳見 欄位解釋 void* custom_arg 調用端自定義參數。會原樣傳出 AsstCreateEx 介面中的 cu...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"回呼訊息協定\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://docs.maa.plus/zh-tw/protocol/callback-schema.html"}],["meta",{"property":"og:site_name","content":"MAA 文件站"}],["meta",{"property":"og:title","content":"回呼訊息協定"}],["meta",{"property":"og:description","content":"注意 回呼訊息 (Callback) 隨版本更新快速迭代中，本文件可能過時。如需獲取最新內容可參考 C# 整合原始碼 回呼函式原型 參數總覽 int msg 消息類型 const char* details 消息詳情，json 字串，詳見 欄位解釋 void* custom_arg 調用端自定義參數。會原樣傳出 AsstCreateEx 介面中的 cu..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-TW"}],["meta",{"property":"og:locale:alternate","content":"ko-KR"}],["meta",{"property":"og:locale:alternate","content":"ja-JP"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["link",{"rel":"alternate","hreflang":"ko-kr","href":"https://docs.maa.plus/ko-kr/protocol/callback-schema.html"}],["link",{"rel":"alternate","hreflang":"ja-jp","href":"https://docs.maa.plus/ja-jp/protocol/callback-schema.html"}],["link",{"rel":"alternate","hreflang":"en-us","href":"https://docs.maa.plus/en-us/protocol/callback-schema.html"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://docs.maa.plus/zh-cn/protocol/callback-schema.html"}]]},"readingTime":{"minutes":7.7,"words":2310},"git":{"createdTime":1770741468000},"autoDesc":true,"filePathRelative":"zh-tw/protocol/callback-schema.md","headers":[]}');export{j as comp,M as data};
